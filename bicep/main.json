{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "metadata": {
    "_generator": {
      "name": "bicep",
      "version": "0.29.47.4906",
      "templateHash": "11410500030700645148"
    }
  },
  "parameters": {
    "sitesWorkdayIntegrationsName": {
      "type": "string",
      "defaultValue": "Workday-Integrations"
    },
    "serverfarmsASPAnkitadevA00eExternalId": {
      "type": "string",
      "defaultValue": "/subscriptions/ae6cbacb-2eac-42cc-978e-516b8ef7628d/resourceGroups/Ankita-dev/providers/Microsoft.Web/serverfarms/ASP-Ankitadev-a00e"
    }
  },
  "resources": [
    {
      "type": "Microsoft.Web/sites",
      "apiVersion": "2023-12-01",
      "name": "[parameters('sitesWorkdayIntegrationsName')]",
      "location": "North Europe",
      "tags": {
        "hidden-link: /app-insights-resource-id": "/subscriptions/ae6cbacb-2eac-42cc-978e-516b8ef7628d/resourceGroups/Ankita-dev/providers/Microsoft.Insights/components/Workday-Integrations",
        "DueDate": "2024-08-12",
        "Owner": "Ankita"
      },
      "kind": "functionapp,workflowapp",
      "identity": {
        "type": "SystemAssigned"
      },
      "properties": {
        "serverFarmId": "[parameters('serverfarmsASPAnkitadevA00eExternalId')]",
        "siteConfig": {
          "numberOfWorkers": 1,
          "alwaysOn": false,
          "http20Enabled": false,
          "functionAppScaleLimit": 0,
          "minimumElasticInstanceCount": 3,
          "use32BitWorkerProcess": false,
          "webSocketsEnabled": false,
          "minTlsVersion": "1.2",
          "ftpsState": "FtpsOnly",
          "preWarmedInstanceCount": 1,
          "functionsRuntimeScaleMonitoringEnabled": false,
          "azureStorageAccounts": {},
          "ipSecurityRestrictions": [
            {
              "ipAddress": "Any",
              "action": "Allow",
              "priority": 2147483647,
              "name": "Allow all",
              "description": "Allow all access"
            }
          ],
          "scmIpSecurityRestrictions": [
            {
              "ipAddress": "Any",
              "action": "Allow",
              "priority": 2147483647,
              "name": "Allow all",
              "description": "Allow all access"
            }
          ],
          "scmIpSecurityRestrictionsUseMain": false
        },
        "httpsOnly": true,
        "redundancyMode": "None",
        "publicNetworkAccess": "Enabled",
        "storageAccountRequired": false,
        "keyVaultReferenceIdentity": "SystemAssigned"
      }
    },
    {
      "type": "Microsoft.Web/sites/basicPublishingCredentialsPolicies",
      "apiVersion": "2023-12-01",
      "name": "[format('{0}/{1}', parameters('sitesWorkdayIntegrationsName'), 'ftp')]",
      "properties": {
        "allow": false
      },

      

      "dependsOn": [
        "[resourceId('Microsoft.Web/sites', parameters('sitesWorkdayIntegrationsName'))]"
      ]
    },
    {
      "type": "Microsoft.Web/sites/basicPublishingCredentialsPolicies",
      "apiVersion": "2023-12-01",
      "name": "[format('{0}/{1}', parameters('sitesWorkdayIntegrationsName'), 'scm')]",
      "properties": {
        "allow": false
      },
      "dependsOn": [
        "[resourceId('Microsoft.Web/sites', parameters('sitesWorkdayIntegrationsName'))]"
      ]
    },
    {
      "type": "Microsoft.Web/sites/config",
      "apiVersion": "2023-12-01",
      "name": "[format('{0}/{1}', parameters('sitesWorkdayIntegrationsName'), 'web')]",
      "properties": {
        "numberOfWorkers": 1,
        "netFrameworkVersion": "v6.0",
        "requestTracingEnabled": false,
        "remoteDebuggingEnabled": false,
        "httpLoggingEnabled": false,
        "logsDirectorySizeLimit": 35,
        "detailedErrorLoggingEnabled": false,
        "scmType": "None",
        "virtualApplications": [
          {
            "virtualPath": "/",
            "physicalPath": "site\\wwwroot",
            "preloadEnabled": false
          }
        ],
        "loadBalancing": "LeastRequests",
        "experiments": {
          "rampUpRules": []
        },
        "autoHealEnabled": false,
        "localMySqlEnabled": false
      },
      "dependsOn": [
        "[resourceId('Microsoft.Web/sites', parameters('sitesWorkdayIntegrationsName'))]"
      ]
    },
    {
      "type": "Microsoft.Web/sites/deployments",
      "apiVersion": "2023-12-01",
      "name": "[format('{0}/{1}', parameters('sitesWorkdayIntegrationsName'), '299972482842439b9665cc70df4bfbb3')]",
      "properties": {
        "status": 4,
        "author": "ms-azuretools-vscode",
        "deployer": "ms-azuretools-vscode",
        "message": "Created via a push deployment",
        "start_time": "2024-09-06T09:52:12.675096Z",
        "end_time": "2024-09-06T09:52:28.2124157Z",
        "active": true
      },
      "dependsOn": [
        "[resourceId('Microsoft.Web/sites', parameters('sitesWorkdayIntegrationsName'))]"
      ]
    },
    {
      "type": "Microsoft.Web/sites/hostNameBindings",
      "apiVersion": "2023-12-01",
      "name": "[format('{0}/{1}', parameters('sitesWorkdayIntegrationsName'), format('{0}.azurewebsites.net', parameters('sitesWorkdayIntegrationsName')))]",
      "properties": {
        "siteName": "[parameters('sitesWorkdayIntegrationsName')]",
        "hostNameType": "Verified"
      },
      "dependsOn": [
        "[resourceId('Microsoft.Web/sites', parameters('sitesWorkdayIntegrationsName'))]"
      ]
    }
  ]
}